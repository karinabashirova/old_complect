[{"inputs":[{"internalType":"address","name":"price_signer_","type":"address"},{"internalType":"uint256","name":"last_maturity_time_","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"from","type":"address"},{"indexed":false,"internalType":"uint256","name":"opt_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"ord_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"ref_price","type":"uint256"},{"indexed":false,"internalType":"int256","name":"delta","type":"int256"},{"indexed":false,"internalType":"uint256","name":"ord_price","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"max_ord_price","type":"uint256"}],"name":"ChangeBuyOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"from","type":"address"},{"indexed":false,"internalType":"uint256","name":"opt_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"ord_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"ref_price","type":"uint256"},{"indexed":false,"internalType":"int256","name":"delta","type":"int256"},{"indexed":false,"internalType":"uint256","name":"ord_price","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"min_ord_price","type":"uint256"}],"name":"ChangeSellOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"from","type":"address"},{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"CreateOption","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"from","type":"address"},{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"FinalizeOptionExercise","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"from","type":"address"},{"indexed":false,"internalType":"uint256","name":"opt_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"ord_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"ref_price","type":"uint256"},{"indexed":false,"internalType":"int256","name":"delta","type":"int256"},{"indexed":false,"internalType":"uint256","name":"ord_price","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"max_ord_price","type":"uint256"}],"name":"MakeBuyOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"from","type":"address"},{"indexed":false,"internalType":"uint256","name":"opt_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"ord_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"ref_price","type":"uint256"},{"indexed":false,"internalType":"int256","name":"delta","type":"int256"},{"indexed":false,"internalType":"uint256","name":"ord_price","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"min_ord_price","type":"uint256"}],"name":"MakeSellOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sell_maker","type":"address"},{"indexed":false,"internalType":"address","name":"buy_maker","type":"address"},{"indexed":false,"internalType":"uint256","name":"opt_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"sell_ord_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"buy_ord_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"sell_price","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"buy_price","type":"uint256"}],"name":"MatchOrders","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"contract IERC20","name":"f_tok","type":"address"},{"indexed":false,"internalType":"contract IERC20","name":"u_tok","type":"address"},{"indexed":false,"internalType":"bool","name":"call_type","type":"bool"},{"indexed":false,"internalType":"uint256","name":"strike_price","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"maturity_time","type":"uint256"}],"name":"NewOptionType","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"from","type":"address"},{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RequestOptionExercise","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"taker","type":"address"},{"indexed":false,"internalType":"address","name":"maker","type":"address"},{"indexed":false,"internalType":"uint256","name":"opt_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"sell_ord_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"}],"name":"TakeBuyOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"taker","type":"address"},{"indexed":false,"internalType":"address","name":"maker","type":"address"},{"indexed":false,"internalType":"uint256","name":"opt_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"buy_ord_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"}],"name":"TakeSellOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"from","type":"address"},{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"call_amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"exec_amount","type":"uint256"}],"name":"WithdrawOption","type":"event"},{"inputs":[{"internalType":"uint256","name":"opt_id","type":"uint256"},{"internalType":"uint256","name":"ord_id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"ref_price","type":"uint256"},{"internalType":"int256","name":"delta","type":"int256"},{"internalType":"uint256","name":"ord_price","type":"uint256"},{"internalType":"uint256","name":"max_ord_price","type":"uint256"}],"name":"ChangeBuyOrd","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"opt_id","type":"uint256"},{"internalType":"uint256","name":"ord_id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"ref_price","type":"uint256"},{"internalType":"int256","name":"delta","type":"int256"},{"internalType":"uint256","name":"ord_price","type":"uint256"},{"internalType":"uint256","name":"min_ord_price","type":"uint256"}],"name":"ChangeSellOrd","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"f_tok","type":"address"},{"internalType":"contract IERC20","name":"u_tok","type":"address"},{"internalType":"bool","name":"call_type","type":"bool"},{"internalType":"uint256","name":"strike_price","type":"uint256"},{"internalType":"uint256","name":"maturity_time","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"CreateOpt","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC20[]","name":"tkns","type":"address[]"}],"name":"EmergencyStop","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"opt_owner","type":"address"},{"internalType":"uint256","name":"opt_id","type":"uint256"}],"name":"FinalizeOptExercise","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"GetCL","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"creator","type":"address"},{"internalType":"uint256","name":"opt_id","type":"uint256"}],"name":"GetCreatedOptCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"opt_id","type":"uint256"}],"name":"GetOpt","outputs":[{"internalType":"address","name":"f_tok","type":"address"},{"internalType":"address","name":"u_tok","type":"address"},{"internalType":"bool","name":"call_type","type":"bool"},{"internalType":"uint256","name":"strike_price","type":"uint256"},{"internalType":"uint256","name":"maturity_time","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"exec_amount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"adr","type":"address"},{"internalType":"uint256","name":"opt_id","type":"uint256"}],"name":"GetOptBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"GetOptCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"f_tok","type":"address"},{"internalType":"contract IERC20","name":"u_tok","type":"address"},{"internalType":"bool","name":"call_type","type":"bool"},{"internalType":"uint256","name":"strike_price","type":"uint256"},{"internalType":"uint256","name":"maturity_time","type":"uint256"}],"name":"GetOptId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"opt_id","type":"uint256"},{"internalType":"bool","name":"is_sell","type":"bool"}],"name":"GetOrders","outputs":[{"internalType":"address[]","name":"owners","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"uint256[]","name":"ref_prices","type":"uint256[]"},{"internalType":"int256[]","name":"deltas","type":"int256[]"},{"internalType":"uint256[]","name":"ord_prices","type":"uint256[]"},{"internalType":"uint256[]","name":"min_max_prices","type":"uint256[]"},{"internalType":"uint256[]","name":"timestamp","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"GetVersion","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"uint256","name":"opt_id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"ref_price","type":"uint256"},{"internalType":"int256","name":"delta","type":"int256"},{"internalType":"uint256","name":"ord_price","type":"uint256"},{"internalType":"uint256","name":"max_ord_price","type":"uint256"}],"name":"MakeBuyOrd","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"opt_id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"ref_price","type":"uint256"},{"internalType":"int256","name":"delta","type":"int256"},{"internalType":"uint256","name":"ord_price","type":"uint256"},{"internalType":"uint256","name":"min_ord_price","type":"uint256"}],"name":"MakeSellOrd","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"opt_id","type":"uint256"},{"internalType":"uint256","name":"sell_ord_id","type":"uint256"},{"internalType":"uint256","name":"buy_ord_id","type":"uint256"},{"internalType":"uint256","name":"cur_price","type":"uint256"},{"internalType":"uint256","name":"price_time","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"MatchOrds","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"opt_id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RequestOptExercise","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"last_time","type":"uint256"}],"name":"SetLastMaturity","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"adr","type":"address"},{"internalType":"bool","name":"val","type":"bool"}],"name":"SetMaker","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"SetOptLimit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"f_tok","type":"address"},{"internalType":"contract IERC20","name":"u_tok","type":"address"},{"internalType":"bool","name":"val","type":"bool"}],"name":"SetOptPair","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"price_step_","type":"uint256"},{"internalType":"uint256","name":"amount_step_","type":"uint256"},{"internalType":"int256","name":"delta_step_","type":"int256"}],"name":"SetSteps","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"tok","type":"address"},{"internalType":"uint256","name":"dec","type":"uint256"}],"name":"SetTokenDec","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"opt_id","type":"uint256"},{"internalType":"uint256","name":"ord_id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"cur_price","type":"uint256"},{"internalType":"uint256","name":"price_time","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"TakeBuyOrd","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"opt_id","type":"uint256"},{"internalType":"uint256","name":"ord_id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"cur_price","type":"uint256"},{"internalType":"uint256","name":"price_time","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"TakeSellOrd","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"creator","type":"address"},{"internalType":"uint256","name":"opt_id","type":"uint256"}],"name":"WithdrawOpt","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"amt_step","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"is_sell","type":"bool"},{"internalType":"bool","name":"check_zero_amt","type":"bool"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"ref_price","type":"uint256"},{"internalType":"int256","name":"delta","type":"int256"},{"internalType":"uint256","name":"ord_price","type":"uint256"},{"internalType":"uint256","name":"min_max_price","type":"uint256"}],"name":"check_ord_params","outputs":[{"internalType":"uint256","name":"amount_","type":"uint256"},{"internalType":"uint256","name":"ref_price_","type":"uint256"},{"internalType":"int256","name":"delta_","type":"int256"},{"internalType":"uint256","name":"ord_price_","type":"uint256"},{"internalType":"uint256","name":"min_max_price_","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"cur_time","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"delta_step","outputs":[{"internalType":"int256","name":"","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"in_work","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"last_maturity_time","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"makers","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"now_time","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"opt_limit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"price_signer","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"price_step","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"time","type":"uint256"}],"name":"set_time","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"tok","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"bool","name":"round_up","type":"bool"}],"name":"to_f_tok","outputs":[{"internalType":"uint256","name":"t_amt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"tok","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"bool","name":"round_up","type":"bool"}],"name":"to_u_tok","outputs":[{"internalType":"uint256","name":"t_amt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"name":"tok_units","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"tot_opt_count","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"val","type":"uint256"},{"internalType":"uint256","name":"step","type":"uint256"},{"internalType":"bool","name":"check_zero","type":"bool"}],"name":"trunc_val","outputs":[{"internalType":"uint256","name":"res","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"","type":"address"},{"internalType":"contract IERC20","name":"","type":"address"}],"name":"update_price_timestamp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]